mixed-port: 7890
#port: 7890
#socks-port: 7891
#redir-port: 7892
allow-lan: true
mode: rule
ipv6: false
log-level: info
external-controller: 127.0.0.1:9090

dns:
  enable: true
  ipv6: false
  listen: 127.0.0.1:53
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter:
    - "*.lan"
    - "*.local"
    - "dns.msftncsi.com"
    - "www.msftncsi.com"
    - "www.msftconnecttest.com"
    - "stun.*.*.*"
    - "stun.*.*"
    - miwifi.com
    - music.163.com
    - "*.music.163.com"
    - "*.126.net"
    - api-jooxtt.sanook.com
    - api.joox.com
    - joox.com
    - y.qq.com
    - "*.y.qq.com"
    - streamoc.music.tc.qq.com
    - mobileoc.music.tc.qq.com
    - isure.stream.qqmusic.qq.com
    - dl.stream.qqmusic.qq.com
    - aqqmusic.tc.qq.com
    - amobile.music.tc.qq.com
    - "*.xiami.com"
    - "*.music.migu.cn"
    - music.migu.cn
    - netis.cc
    - router.asus.com
    - repeater.asus.com
    - routerlogin.com
    - routerlogin.net
    - tendawifi.com
    - tendawifi.net
    - tplinklogin.net
    - tplinkwifi.net
    - tplinkrepeater.net
    - "*.ntp.org.cn"
    - "*.openwrt.pool.ntp.org"
    - "*.msftconnecttest.com"
    - "*.msftncsi.com"
    - localhost.ptlogin2.qq.com
    - "*.*.*.srv.nintendo.net"
    - "*.*.stun.playstation.net"
    - "xbox.*.*.microsoft.com"
    - "*.ipv6.microsoft.com"
    - "*.*.xboxlive.com"
    - speedtest.cros.wr.pvp.net
  default-nameserver:
    - 223.5.5.5
    
  nameserver:
    - 119.29.29.29
    - 114.114.114.114
    - 8.8.8.8
    - 1.1.1.1

# 服务器节点订阅
#proxy-providers:
  #clash: # 订阅1
    #type: http # http在线获取  file加载本地文件
    #url:  https://raw.iqiq.io/maplelgj/TV/main/VV # 机场给你的clash订阅链接
    #interval: 86400
    #path: ./proxy_provider/clash.yaml # 保存在clash运行目录下的本地文件的名字 可以随便取
    #filter: '(港|HK|Hong Kong)' # 正则过滤后本组仅含HK节点
    #health-check:  # 健康检查选项从此处开始
      #enable: true # 是否自动进行latency-test
      #interval: 600  # ping节点时间间隔 
      #lazy: true # 为true时，未被使用时不进行测ping
      #url: http://www.youtube.com/generate_204 # 用来测ping的地址
    
proxies:
  - {name: BWG-VMESS, server: 679888.xyz, port: 343, type: vmess, uuid: b92dfaee-7b1a-4c36-a737-f69f1e67a6ce, alterId: 0, cipher: auto, tls: true, network: ws, ws-opts: {path: /1edd91/, headers: {Host: 679888.xyz}}}
  - {name: Racknerd-Vmess, server: heihei006009.tk, port: 45678, type: vmess, uuid: 7ed04ef6-0f03-42f1-a609-b21a0b3a3181, alterId: 0, cipher: auto, tls: true, network: ws, ws-opts: {path: /47d5ff16f/, headers: {Host: heihei006009.tk}}}
 
proxy-groups:
# type:
# select 手动选择，该组在节点列表上，手动选择列表或者 proxy-group 
# url-test 延迟最低节点，测试该组所有节点的延迟
# fallback 定期测试列表中服务器的可用性，按顺序切换使用第一个可用的服务器
# load-balance 负载均衡，由该组2个以上的节点提供链接

  - name: 🎯 国内流量
    type: select
    proxies:
      - DIRECT
      - BWG-VMESS
      - Racknerd-Vmess
  - name: 🍎 苹果服务
    type: select
    proxies:
      - DIRECT
      - BWG-VMESS
      - Racknerd-Vmess
  - name: Ⓜ️ 微软服务
    type: select
    proxies:
      - DIRECT
      - BWG-VMESS
      - Racknerd-Vmess
  - name: 📺 ChatGPT
    type: select
    proxies:
      - Racknerd-Vmess
      - BWG-VMESS
  - name: 📲 Telegram
    type: select
    proxies:
      - Racknerd-Vmess
      - BWG-VMESS
  - name: 📢 谷歌服务
    type: select
    proxies:
      - BWG-VMESS
      - Racknerd-Vmess
  - name: 🚀 国外流量
    type: select
    proxies:
      - BWG-VMESS
      - Racknerd-Vmess
  - name: 🆎 AdBlock
    type: select
    proxies:
      - REJECT
      - DIRECT
  - name: 🐟 漏网之鱼
    type: select
    proxies:
      - DIRECT
      - BWG-VMESS
      - Racknerd-Vmess
 
# 规则地址
rule-providers:
  China:
    type: http
    behavior: classical
    path: ./rule/China.yaml
    url: https://cdn.staticaly.com/gh/blackmatrix7/ios_rule_script/master/rule/Clash/China/China_Classical.yaml
    interval: 86400
    
  BanAD:
    type: http
    behavior: classical
    path: ./rule/BanAD.yaml
    url: https://cdn.staticaly.com/gh/ACL4SSR/ACL4SSR/master/Clash/Providers/BanAD.yaml
    interval: 86400
    
  AdGuardSDNSFilter:
    type: http
    behavior: classical
    path: ./rule/AdGuardSDNSFilter.yaml
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/AdGuardSDNSFilter/AdGuardSDNSFilter_Classical.yaml
    interval: 86400
    
  Hijacking:
    type: http
    behavior: classical
    path: ./rule/Hijacking.yaml
    url: https://cdn.staticaly.com/gh/blackmatrix7/ios_rule_script/master/rule/Clash/Hijacking/Hijacking.yaml
    interval: 86400
    
    
  ZhihuAds:
    type: http
    behavior: classical
    path: ./rule/ZhihuAds.yaml
    url: https://cdn.staticaly.com/gh/blackmatrix7/ios_rule_script/master/rule/Clash/ZhihuAds/ZhihuAds.yaml
    interval: 86400
    
    
  Apple:
    type: http
    behavior: classical
    path: ./rule/Apple.yaml
    url: https://cdn.staticaly.com/gh/blackmatrix7/ios_rule_script/master/rule/Clash/Apple/Apple.yaml
    interval: 86400
    
  Google:
    type: http
    behavior: classical
    path: ./rule/Google.yaml
    url: https://cdn.staticaly.com/gh/blackmatrix7/ios_rule_script/master/rule/Clash/Google/Google.yaml
    interval: 86400
    
  OneDrive:
    type: http
    behavior: classical
    path: ./rule/OneDrive.yaml
    url: https://raw.fastgit.org/blackmatrix7/ios_rule_script/master/rule/Clash/OneDrive/OneDrive.yaml
    interval: 86400
  
  Microsoft:
    type: http
    behavior: classical
    path: ./rule/Microsoft.yaml
    url: https://cdn.staticaly.com/gh/maplelgj/ios_rule_script/master/rule/Clash/Microsoft/Microsoft.yaml
    interval: 86400
    
  Telegram:
    type: http
    behavior: classical
    path: ./rule/Telegram.yaml
    url: https://cdn.staticaly.com/gh/blackmatrix7/ios_rule_script/master/rule/Clash/Telegram/Telegram.yaml
    interval: 86400
    
  GlobalMedia:
    type: http
    behavior: classical
    path: ./rule/GlobalMedia.yaml
    url: https://raw.fastgit.org/blackmatrix7/ios_rule_script/master/rule/Clash/GlobalMedia/GlobalMedia.yaml
    interval: 86400
    
  ProxyGFWlist:
    type: http
    behavior: classical
    path: ./rule/ProxyGFWlist.yaml
    url: https://raw.fastgit.org/ACL4SSR/ACL4SSR/master/Clash/Providers/ProxyGFWlist.yaml
    interval: 86400
    
  GFW:
    type: http
    behavior: classical
    path: ./rule/GFW.yaml
    url: https://cdn.staticaly.com/gh/maplelgj/TV/main/clash/GFW.yaml
    interval: 86400
    
  ChatGPT:
    type: http
    behavior: classical
    path: ./rule/ChatGPT.yaml
    url: https://cdn.staticaly.com/gh/maplelgj/TV/main/clash/ChatGPT.yaml
    interval: 86400
    
rules:
# 内容：可以自行添加其它自己想要的规则
 #- DOMAIN-KEYWORD,tinder,🚀 国外流量
 #- DOMAIN-SUFFIX,dandanzan.com,🚀 国外流量
 
# 下面的规则是通过上面的rule-provider来确定的
 - RULE-SET,China,🎯 国内流量
 - RULE-SET,Apple,🍎 苹果服务
 - RULE-SET,Telegram,📲 Telegram
 - RULE-SET,ChatGPT,📺 ChatGPT
 - RULE-SET,Google,📢 谷歌服务
 - RULE-SET,Microsoft,Ⓜ️ 微软服务
 - RULE-SET,OneDrive,🚀 国外流量
 - RULE-SET,GlobalMedia,🚀 国外流量
 - RULE-SET,ProxyGFWlist,🚀 国外流量
 - RULE-SET,GFW,🚀 国外流量
 - RULE-SET,BanAD,🆎 AdBlock
 - RULE-SET,AdGuardSDNSFilter,🆎 AdBlock
 - RULE-SET,Hijacking,🆎 AdBlock
 - RULE-SET,ZhihuAds,🆎 AdBlock
 - GEOIP,CN,🎯 国内流量
 - MATCH,🐟 漏网之鱼
 

    
