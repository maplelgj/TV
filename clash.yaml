# é»˜è®¤ä½¿ç”¨metaå†…æ ¸
# å› shellclashåªä¼šæŠ“å–è§„åˆ™è¿›è¡ŒäºŒæ¬¡åŠ å·¥, æ­¤è§„åˆ™åªä¿ç•™è§„åˆ™å®šä¹‰, å…¶ä»–å…¨é shellclashå®šä¹‰è‡ªå·±ç”Ÿæˆ
# å¦‚å…¶ä»–è½¯ä»¶å¯¼å…¥æŠ¥é”™, è¯·è‡ªè¡Œè¡¥å…¨, å‚ç…§æ­¤ç¤ºä¾‹ https://docs.metacubex.one/example/ex1
# é…ç½®æ–‡ä»¶éœ€è¦æ”¾ç½®åœ¨ $HOME/.config/clash/config.yml
# æˆ–è€…è¿è¡Œç›®å½•ä¸‹çš„config.yml
#---------------------------------------------------#

mixed-port: 7890 # æ··åˆç«¯å£ HTTPå’ŒSOCKS5ç”¨ä¸€ä¸ªç«¯å£

# port: 7890 # HTTP ä»£ç†ç«¯å£

# socks-port: 7891 # SOCKS5 ä»£ç†ç«¯å£

# redir-port: 7892 # Linux å’Œ macOS çš„ redir ä»£ç†ç«¯å£ (å¦‚éœ€ä½¿ç”¨æ­¤åŠŸèƒ½ï¼Œè¯·å–æ¶ˆæ³¨é‡Š)

#allow-lan: true  # å…è®¸å±€åŸŸç½‘çš„è¿æ¥ï¼ˆå¯ç”¨æ¥å…±äº«ä»£ç†ï¼‰
# ä»…åœ¨å°†allow-lanè®¾ç½®ä¸ºtrueæ—¶é€‚ç”¨
# #"*": ç»‘å®šæ‰€æœ‰IPåœ°å€
# #192.168.122.11: ç»‘å®šå•ä¸ªIPv4åœ°å€
# #"[aaaa::a8aa:ff:fe09:57d8]": ç»‘å®šå•ä¸ªIPv6åœ°å€
#bind-address: "*"
ipv6: true

mode: rule # è§„åˆ™æ¨¡å¼ï¼šruleï¼ˆè§„åˆ™ï¼‰ / globalï¼ˆå…¨å±€ä»£ç†ï¼‰/ directï¼ˆå…¨å±€ç›´è¿ï¼‰/ script (è„šæœ¬)

log-level: info # 5 ä¸ªçº§åˆ«ï¼šsilent / error / warning / info / debugã€‚çº§åˆ«è¶Šé«˜æ—¥å¿—è¾“å‡ºé‡è¶Šå¤§ï¼Œè¶Šå€¾å‘äºè°ƒè¯•ï¼Œè‹¥éœ€è¦è¯·è‡ªè¡Œå¼€å¯ã€‚

# Clash çš„ RESTful API
external-controller: 0.0.0.0:9090

# æ‚¨å¯ä»¥å°†é™æ€ç½‘é¡µèµ„æºï¼ˆå¦‚ clash-dashboardï¼‰æ”¾ç½®åœ¨ä¸€ä¸ªç›®å½•ä¸­ï¼Œclash å°†ä¼šæœåŠ¡äº `RESTful API/ui`
# å‚æ•°åº”å¡«å†™é…ç½®ç›®å½•çš„ç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„ã€‚
# http://127.0.0.1:9090/ui/#/
# external-ui: folder
# yacdé¢æ¿ï¼š  https://github.com/haishanh/yacd
# Razordé¢æ¿ï¼šhttp://clash.razord.top/#/proxies
# external-ui: dashboard

# RESTful API çš„å£ä»¤ (å¯é€‰)
# secret: ""

# å®éªŒæ€§åŠŸèƒ½
#experimental:
  #ignore-resolve-fail: true # å¿½ç•¥ DNS è§£æå¤±è´¥ï¼Œé»˜è®¤å€¼ä¸º true
  # interface-name: en0 # outbound interface name

# æœ¬åœ° SOCKS5 / HTTP(S) æœåŠ¡è®¤è¯
# authentication:
#  - "user1:pass1"
#  - "user2:pass2"

# å®éªŒæ€§åŠŸèƒ½ hosts, æ”¯æŒé€šé…ç¬¦ (ä¾‹å¦‚ *.clash.dev ç”šè‡³ *.foo.*.example.com)
# é™æ€çš„åŸŸå æ¯” é€šé…åŸŸå å…·æœ‰æ›´é«˜çš„ä¼˜å…ˆçº§ (foo.example.com ä¼˜å…ˆäº *.example.com)
# æ³¨æ„: hosts åœ¨ fake-ip æ¨¡å¼ä¸‹ä¸ç”Ÿæ•ˆ
#hosts:
#   '*.clash.dev': 127.0.0.1
#   'alpha.clash.dev': '::1'

dns:
  enable: true # æ˜¯å¦å¯ç”¨dns false
  #ipv6: false
  listen: 0.0.0.0:53
  enhanced-mode: redir-host # æ¨¡å¼ï¼šredir-hostæˆ–fake-ip
  #fake-ip-range: 198.18.0.1/16 #
  #fake-ip-filter: # fake ip ç™½åå•åˆ—è¡¨ï¼Œå¦‚æœä½ ä¸çŸ¥é“è¿™ä¸ªå‚æ•°çš„ä½œç”¨ï¼Œè¯·å‹¿ä¿®æ”¹
     #- '*.lan'
     #- localhost.ptlogin2.qq.com
  nameserver:
     - 223.5.5.5 # é˜¿é‡ŒDNS
     - 180.76.76.76 # ç™¾åº¦DNS
     - 119.29.29.29 # è…¾è®¯DNS
     - 117.50.11.11 # ONE DNSæ‹¦æˆªç‰ˆ æ¶æ„ç½‘ç«™æ‹¦æˆªã€å¹¿å‘Šè¿‡æ»¤
     - 117.50.10.10 # ONE DNSçº¯å‡€ç‰ˆ ç›´æ¥è¿”å›å…¶çœŸå®çš„å“åº”ç»“æœ
     - 114.114.114.114 # 114DNS
     - 8.8.8.8 # è°·æ­ŒDNS
     - 1.1.1.1 # Cloudflare DNS
     - tls://dns.rubyfish.cn:853
     - tls://1.0.0.1:853
     - tls://dns.google:853
     - https://dns.alidns.com/dns-query # é˜¿é‡Œ DoH DNS
     - https://doh.360.cn/dns-query # 360 DoH DNS
  #fallback:
     #- 8.8.8.8 # è°·æ­ŒDNS
     #- 1.1.1.1 # Cloudflare DNS
     #- tls://dns.rubyfish.cn:853
     #- tls://1.0.0.1:853
     #- tls://dns.google:853
     #- https://dns.rubyfish.cn/dns-query
     #- https://cloudflare-dns.com/dns-query
     #- https://dns.google/dns-query
   # fallback-filter:
   #  geoip: true  # é»˜è®¤
   #  geoip-code: CN
   #  ipcidr: # åœ¨è¿™ä¸ªç½‘æ®µå†…çš„ IP åœ°å€ä¼šè¢«è€ƒè™‘ä¸ºè¢«æ±¡æŸ“çš„ IP
   #    - 240.0.0.0/4
    #   domain:
    #  - '+.google.com'
    #  - '+.googleapis.com'
    #  - '+.youtube.com'
    #  - '+.appspot.com'
    #  - '+.telegram.com'
    #  - '+.facebook.com'
    #  - '+.twitter.com'
    #  - '+.blogger.com'
    #  - '+.gmail.com'
    #  - '+.gvt1.com'

# 1. clash DNS è¯·æ±‚é€»è¾‘ï¼š
#   (1) å½“è®¿é—®ä¸€ä¸ªåŸŸåæ—¶ï¼Œ nameserver ä¸ fallback åˆ—è¡¨å†…çš„æ‰€æœ‰æœåŠ¡å™¨å¹¶å‘è¯·æ±‚ï¼Œå¾—åˆ°åŸŸåå¯¹åº”çš„ IP åœ°å€ã€‚
#   (2) clash å°†é€‰å– nameserver åˆ—è¡¨å†…ï¼Œè§£ææœ€å¿«çš„ç»“æœã€‚
#   (3) è‹¥è§£æç»“æœä¸­ï¼ŒIP åœ°å€å±äº å›½å¤–ï¼Œé‚£ä¹ˆ clash å°†é€‰æ‹© fallback åˆ—è¡¨å†…ï¼Œè§£ææœ€å¿«çš„ç»“æœã€‚
#
#   å› æ­¤ï¼Œæˆ‘åœ¨ nameserver å’Œ fallback å†…éƒ½æ”¾ç½®äº†æ— æ±¡æŸ“ã€è§£æé€Ÿåº¦è¾ƒå¿«çš„å›½å†… DNS æœåŠ¡å™¨ï¼Œä»¥è¾¾åˆ°æœ€å¿«çš„è§£æé€Ÿåº¦ã€‚
#   ä½†æ˜¯ fallback åˆ—è¡¨å†…æœåŠ¡å™¨ä¼šç”¨åœ¨è§£æå¢ƒå¤–ç½‘ç«™ï¼Œä¸ºäº†ç»“æœç»å¯¹æ— æ±¡æŸ“ï¼Œæˆ‘ä»…ä¿ç•™äº†æ”¯æŒ DoT/DoH çš„ä¸¤ä¸ªæœåŠ¡å™¨ã€‚
#
# 2. clash DNS é…ç½®æ³¨æ„äº‹é¡¹ï¼š
#   (1) å¦‚æœæ‚¨ä¸ºäº†ç¡®ä¿ DNS è§£æç»“æœæ— æ±¡æŸ“ï¼Œè¯·ä»…ä¿ç•™åˆ—è¡¨å†…ä»¥ tls:// æˆ– https:// å¼€å¤´çš„ DNS æœåŠ¡å™¨ï¼Œä½†æ˜¯é€šå¸¸å¯¹äºå›½å†…åŸŸåæ²¡æœ‰å¿…è¦ã€‚
#   (2) å¦‚æœæ‚¨ä¸åœ¨ä¹å¯èƒ½è§£æåˆ°æ±¡æŸ“çš„ç»“æœï¼Œæ›´åŠ è¿½æ±‚é€Ÿåº¦ã€‚è¯·å°† nameserver åˆ—è¡¨çš„æœåŠ¡å™¨æ’å…¥è‡³ fallback åˆ—è¡¨å†…ï¼Œå¹¶ç§»é™¤é‡å¤é¡¹ã€‚
#
# 3. å…³äº DNS over HTTPS (DoH) å’Œ DNS over TLS (DoT) çš„é€‰æ‹©ï¼š
#   å¯¹äºä¸¤é¡¹æŠ€æœ¯åŒæ–¹å„æ‰§ä¸€è¯ï¼Œè€Œä¸”ä¼šæ— ä¼‘æ­¢çš„äº‰è®ºï¼Œå„æœ‰åˆ©å¼Šã€‚å„ä½è¯·æ ¹æ®å…·ä½“éœ€æ±‚è‡ªè¡Œé€‰æ‹©ï¼Œä½†æ˜¯é…ç½®æ–‡ä»¶å†…é»˜è®¤å¯ç”¨ DoTï¼Œå› ä¸ºç›®å‰å›½å†…æ²¡æœ‰å°é”æˆ–ç®¡åˆ¶ã€‚
#   DoH: ä»¥ https:// å¼€å¤´çš„ DNS æœåŠ¡å™¨ã€‚æ‹¥æœ‰æ›´å¥½çš„ä¼ªè£…æ€§ï¼Œä¸”å‡ ä¹ä¸å¯èƒ½è¢«è¿è¥å•†æˆ–ç½‘ç»œç®¡ç†å°é”ï¼Œä½†æŸ¥è¯¢æ•ˆç‡å’Œå®‰å…¨æ€§å¯èƒ½ç•¥ä½ã€‚
#   DoT: ä»¥ tls:// å¼€å¤´çš„ DNS æœåŠ¡å™¨ã€‚æ‹¥æœ‰æ›´é«˜çš„å®‰å…¨æ€§å’ŒæŸ¥è¯¢æ•ˆç‡ï¼Œä½†ç«¯å£æœ‰å¯èƒ½è¢«ç®¡åˆ¶æˆ–å°é”ã€‚
#   è‹¥è¦äº†è§£æ›´å¤šå…³äº DoH/DoT ç›¸å…³æŠ€æœ¯ï¼Œè¯·è‡ªè¡ŒæŸ¥é˜…è§„èŒƒæ–‡æ¡£ã€‚



# æœåŠ¡å™¨èŠ‚ç‚¹è®¢é˜…
#proxy-providers:
  #  èŠ‚ç‚¹: # Provider åç§°
  # type: http
  #  url:  https://raw.iqiq.io/maplelgj/TV/main/VV # æœºåœºç»™ä½ çš„clashè®¢é˜…é“¾æ¥
  #  path: ./proxy_provider/jiedian.yaml # ä¿å­˜åœ¨æœ¬åœ°æ–‡ä»¶çš„åå­—ï¼Œå¯ä»¥éšä¾¿å–
    
proxies:
  - {name: BWG-VMESS, server: 679888.xyz, port: 56788, type: vmess, uuid: b92dfaee-7b1a-4c36-a737-f69f1e67a6ce, alterId: 0, cipher: auto, tls: true, network: ws, ws-opts: {path: /1edd91/, headers: {Host: 679888.xyz}}}
  - {name: Racknerd-Vmess, server: heihei006009.tk, port: 343, type: vmess, uuid: 7ed04ef6-0f03-42f1-a609-b21a0b3a3181, alterId: 0, cipher: auto, tls: true, network: ws, ws-opts: {path: /47d5ff16f/, headers: {Host: heihei006009.tk}}}
 
proxy-groups:
  - name: ğŸ¯ å›½å†…æµé‡
    type: select
    proxies:
      - DIRECT
  - name: ğŸ¶ TikTok
    type: select
    proxies:
      - BWG-VMESS
      - Racknerd-Vmess
  - name: ğŸ“² Telegram
    type: select
    proxies:
      - BWG-VMESS
      - Racknerd-Vmess
  - name: ğŸ“¢ è°·æ­ŒæœåŠ¡
    type: select
    proxies:
      - BWG-VMESS
      - Racknerd-Vmess
  - name: â“‚ï¸ å¾®è½¯æœåŠ¡
    type: select
    proxies:
      - DIRECT
      - BWG-VMESS
      - Racknerd-Vmess
  - name: ğŸ è‹¹æœæœåŠ¡
    type: select
    proxies:
      - DIRECT
      - BWG-VMESS
      - Racknerd-Vmess
  - name: ğŸŒ å›½å¤–åª’ä½“
    type: select
    proxies:
      - BWG-VMESS
      - Racknerd-Vmess
      - DIRECT
  - name: ğŸš€ å›½å¤–æµé‡
    type: select
    proxies:
      - BWG-VMESS
      - Racknerd-Vmess
  - name: ğŸ›‘ å¹¿å‘Šæ‹¦æˆª
    type: select
    proxies:
      - REJECT
      - DIRECT
  - name: ğŸŸ æ¼ç½‘ä¹‹é±¼
    type: select
    proxies:
      - DIRECT
      - BWG-VMESS
      - Racknerd-Vmess
 
# è§„åˆ™åœ°å€
rule-providers:
  ChinaMax_Classical:
    type: http
    behavior: classical
    path: ./rule/ChinaMax_Classical.yaml
    url: https://raw.iqiq.io/blackmatrix7/ios_rule_script/master/rule/Clash/ChinaMax/ChinaMax_Classical.yaml
    interval: 86400
    
  Advertising_Classical:
    type: http
    behavior: classical
    path: ./rule/Advertising_Classical.yaml
    url: https://raw.iqiq.io/blackmatrix7/ios_rule_script/master/rule/Clash/Advertising/Advertising_Classical.yaml
    
  ZhihuAds:
    type: http
    behavior: classical
    path: ./rule/ZhihuAds.yaml
    url: https://raw.iqiq.io/blackmatrix7/ios_rule_script/master/rule/Clash/ZhihuAds/ZhihuAds.yaml
    interval: 86400
    
  Hijacking:
    type: http
    behavior: classical
    path: ./rule/Hijacking.yaml
    url: https://raw.iqiq.io/blackmatrix7/ios_rule_script/master/rule/Clash/Hijacking/Hijacking.yaml
    interval: 86400
    
  Apple:
    type: http
    behavior: classical
    path: ./rule/Apple.yaml
    url: https://raw.iqiq.io/blackmatrix7/ios_rule_script/master/rule/Clash/Apple/Apple.yaml
    interval: 86400
    
  Google:
    type: http
    behavior: classical
    path: ./rule/Google.yaml
    url: https://raw.iqiq.io/blackmatrix7/ios_rule_script/master/rule/Clash/Google/Google.yaml
    interval: 86400
    
  Microsoft:
    type: http
    behavior: classical
    path: ./rule/Microsoft.yaml
    url: https://raw.iqiq.io/blackmatrix7/ios_rule_script/master/rule/Clash/Microsoft/Microsoft.yaml
    interval: 86400
    
  TikTok:
    type: http
    behavior: classical
    path: ./rule/TikTok.yaml
    url: https://raw.iqiq.io/blackmatrix7/ios_rule_script/master/rule/Clash/TikTok/TikTok.yaml
    interval: 86400   
    
  Telegram:
    type: http
    behavior: classical
    path: ./rule/Telegram.yaml
    url: https://raw.iqiq.io/blackmatrix7/ios_rule_script/master/rule/Clash/Telegram/Telegram.yaml
    interval: 86400  
    
  GlobalMedia:
    type: http
    behavior: classical
    path: ./rule/GlobalMedia.yaml
    url: https://raw.iqiq.io/blackmatrix7/ios_rule_script/master/rule/Clash/GlobalMedia/GlobalMedia.yaml
    interval: 86400 
    
  Proxy_Classical:
    type: http
    behavior: classical
    path: ./rule/Proxy_Classical.yaml
    url: https://raw.iqiq.io/maplelgj/ios_rule_script/master/rule/Clash/Proxy/Proxy_Classical.yaml
    interval: 86400    
    
  GFW:
    type: http
    behavior: classical
    path: ./rule/GFW.yaml
    url: https://raw.iqiq.io/maplelgj/TV/main/clash/GFW.yaml
    interval: 86400
    
rules:
# å†…å®¹ï¼šå¯ä»¥è‡ªè¡Œæ·»åŠ å…¶å®ƒè‡ªå·±æƒ³è¦çš„è§„åˆ™
 #- DOMAIN-KEYWORD,tinder,ğŸš€ å›½å¤–æµé‡
 #- DOMAIN-KEYWORD,dandanzan10,ğŸš€ å›½å¤–æµé‡
 #- DOMAIN-SUFFIX,dandanzan10.top,ğŸš€ å›½å¤–æµé‡
 
# ä¸‹é¢çš„è§„åˆ™æ˜¯é€šè¿‡ä¸Šé¢çš„rule-provideræ¥ç¡®å®šçš„
 - RULE-SET,ChinaMax_Classical,ğŸ¯ å›½å†…æµé‡
 - RULE-SET,Advertising_Classical,ğŸ›‘ å¹¿å‘Šæ‹¦æˆª
 - RULE-SET,Hijacking,ğŸ›‘ å¹¿å‘Šæ‹¦æˆª
 - RULE-SET,ZhihuAds,ğŸ›‘ å¹¿å‘Šæ‹¦æˆª
 - RULE-SET,Apple,ğŸ è‹¹æœæœåŠ¡
 - RULE-SET,Google,ğŸ“¢ è°·æ­ŒæœåŠ¡
 - RULE-SET,Microsoft,â“‚ï¸ å¾®è½¯æœåŠ¡
 - RULE-SET,TikTok,ğŸ¶ TikTok
 - RULE-SET,Telegram,ğŸ“² Telegram
 - RULE-SET,GlobalMedia,ğŸŒ å›½å¤–åª’ä½“
 - RULE-SET,Proxy_Classical,ğŸš€ å›½å¤–æµé‡
 - RULE-SET,GFW,ğŸš€ å›½å¤–æµé‡
 - GEOIP,CN,ğŸ¯ å›½å†…æµé‡
 - GEOIP,LAN,ğŸ¯ å›½å†…æµé‡
#- GEOSITE,CN,ğŸ¯ å›½å†…æµé‡ #ã€Metaä¸“å±ã€‘
 - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼
 

    
